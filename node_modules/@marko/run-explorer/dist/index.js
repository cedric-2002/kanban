// index.ts
import { spawnServerWorker } from "@marko/run/vite";
import path from "path";
import { fileURLToPath } from "url";
var __dirname = path.dirname(fileURLToPath(import.meta.url));
var entry = path.join(__dirname, "server.js");
async function start(port) {
  const worker = await spawnServerWorker(entry, [], port, void 0, false);
  return {
    port,
    async close() {
      worker.kill();
    }
  };
}
export {
  start
};
